---
title: Control Flow Graph
date: 2025-03-10 11:30:00 +0800
categories: [agent,code]
tags: [LLM]    
math: true
---

# Control Flow Graph (CFG) - Program Analysis

## Overview
A **Control Flow Graph (CFG)** 是程序计算和控制流的图表示。用于建模程序的执行路径，是静态分析的核心。

## Structure of a CFG
The structure of a Control Flow Graph consists of two main components:
- **Nodes（computation）**: 令每个节点表示一个**basic block**. basic block 要么是一行代码或者几行可连续执行的代码，满足:
  - 单一的进入点（single entry point，no branching except at the beginning or end).
  - 在块中无跳转和分支(i.e., it is a linear sequence of instructions).
- **Edges（control flow）**: 表示块间可能的控制流:
  - 块尾到另一块首的边表明程序执行时潜在的转移路径
  - 块可能有多个入边和出边(e.g., loops, conditionals, or function calls).

## Basic block
连续语句序列，满足：
- 控制流只在序列首进入
- 控制流只在序列尾离开


## CFG Example:
可能的执行路径为图中的path
### Execution 1
B1->B2->B4
### Execution 2
B1->B3->B4

![CFG](../assets/LLM/cfg_example.png "CFG")
---

## Infeasible executions
控制流图（CFG）表示程序的所有可能执行路径，包括那些在实际运行中永远不会被触发的路径。这些路径称为“不可能执行路径（Infeasible Executions）

![infe_cfg](../assets/LLM/infeasible_exec.png "in_cfg")


## Build CFG


